<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Orbieon - AI Talent Accelerator</title>
    <link rel="stylesheet" href="pay.css">
    <link rel="icon" type="image/x-icon" href="images/favicon.ico">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
      <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link 
    href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" 
    rel="stylesheet">
</head>
<body>
    <!-- Header/Navigation -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <img src="images/logo.png" alt="Orbieon Logo" style="height: 40px; margin-right: 12px;">
                <span>Orbieon .</span>
            </div>
            
           <!-- Hamburger Icon -->
        <button class="hamburger" id="hamburger-btn" aria-label="Open navigation" aria-expanded="false" aria-controls="mobile-nav">
            <span class="bar"></span>
            <span class="bar"></span>
            <span class="bar"></span>
        </button>
        <nav>
            <ul class="nav-links" id="main-nav">
                <li><a href="index.html">Dashboard</a></li>
                <li><a href="index.html#features-section">Fields</a></li>
                <li><a href="#testimonials-section">Testimonial</a></li>
                <li><a href="#">Projects</a></li>
                <li><a href="#faq-section">FAQs</a></li>
            </ul>
        </nav>
        <button class="enroll-btn" onclick="document.getElementById('pricing-section').scrollIntoView({behavior: 'smooth'})">Enroll Now</button>
    </div>
    <!-- Mobile Navigation Drawer -->
    <nav class="mobile-nav" id="mobile-nav" aria-hidden="true">
        <ul>
            <li><a href="#">Dashboard</a></li>
            <li><a href="index.html#features">Fields</a></li>
            <li><a href="#testimonials-section">Testimonial</a></li>
            <li><a href="#">Projects</a></li>
            <li><a href="#faq-section">FAQs</a></li>
            <li>
                <button class="enroll-btn" style="width:100%;margin-top:1rem;" onclick="document.getElementById('pricing-section').scrollIntoView({behavior: 'smooth'})">Enroll Now</button>
            </li>
        </ul>
    </nav>
    </header>

    <main>
        <section class="hero">
            <div class="container">
                <div class="hero-content">
                    <p class="tagline">ORBIEON TALENT ACCELERATOR (MVP2)</p>
                    <h1>Learn Today, Build For Tomorrow. <br> Start Now!</h1>
                    <div class="features">
                        <span>Real world projects</span>
                        <span>Hands-on engineering solutions</span>
                        <span>Certifications</span>
                        <span>Paid internships</span>
                    </div>
                </div>
            </div>
        </section>

 
    </main>

    <!-- AI Section -->
    <section class="ai-section">
        <div class="container">
            <div class="ai-content">
                <div class="ai-text">
                    <h2>Artificial Intelligence is no more science fiction</h2>
                    <p>Join the Orbieon Talent Accelerator (MVP2) cohort to unlock the fun and effective way to AI & engineering mastery.</p>
                    <button class="enroll-btn-secondary" onclick="document.getElementById('pricing-section').scrollIntoView({behavior: 'smooth'})">Enroll now</button>
                </div>
                <div class="ai-image">
                    <div class="ai-bg"></div>
                </div>
            </div>
        </div>
    </section>

    <!-- Benefits Section -->
    <section class="benefits-section">
        <div class="container">
            <h2 class="section-title">What to benefit from Orbieon</h2>
            <div class="benefits-grid">
                <div class="benefit-card">
                    <div class="benefit-icon">üåç</div>
                    <h3>Access to Real world projects</h3>
                    <p>Learn industry-recognized skills to list on your resume and shine out in job applications.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üîß</div>
                    <h3>Access to hands-on engineering solutions</h3>
                    <p>Learn industry-recognized skills to list on your resume and shine out in job applications.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üìú</div>
                    <h3>Certificates</h3>
                    <p>Learn industry-recognized skills to list on your resume and shine out in job applications.</p>
                </div>
                <div class="benefit-card">
                    <div class="benefit-icon">üíº</div>
                    <h3>Paid Internships</h3>
                    <p>Learn industry-recognized skills to list on your resume and shine out in job applications.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Quote Section -->
    <section class="quote-section">
        <div class="container">
            <div class="quote-content">
                <h2>The future belongs to those who dare to <span class="highlight">automate, innovate, and embrace robotics.</span></h2>
                <p class="quote-author">‚Äî Joseph Ugwuebuchi ‚Äî</p>
                <button class="enroll-btn-quote" onclick="document.getElementById('pricing-section').scrollIntoView({behavior: 'smooth'})">Enroll Now</button>
            </div>
        </div>
    </section>

    <!-- Testimonials Section -->
    <section id="testimonials-section" class="testimonials-section">
        <div class="container">
        <h2 class="section-title">Remarks from MVP1 cohort</h2>
<div class="testimonials-grid">
  <div class="testimonial-card">
    <div class="testimonial-author">
        <img src="images/avatar-placeholder.png" alt="Falade OluwaPelumi Temitayo" class="avatar">
        <div>
            <strong>Falade OluwaPelumi Temitayo</strong>
        </div>
    </div>
    <div class="testimonial-quote">
        <em>If you have a curious mind and strong interest in astronautics, it's definitely for you.</em>
    </div>
    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
    <p>"It has been very enlightening and quite interesting."</p>
</div>
<div class="testimonial-card">
    <div class="testimonial-author">
        <img src="images/avatar-placeholder.png" alt="Divine Ehmoyi Waziri" class="avatar">
        <div>
            <strong>Divine Ehmoyi Waziri</strong>
        </div>
    </div>
    <div class="testimonial-quote">
        <em>My friend, you won't regret joining Orbieon.</em>
    </div>
    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
    <p>"Orbieon MVP1 program was a success. I got to discover a lot about orbital mechanics and how celestial bodies orbit around each other. It was quite interesting."</p>
</div>
<div class="testimonial-card">
    <div class="testimonial-author">
        <img src="images/avatar-placeholder.png" alt="Ikenna Victor Agu" class="avatar">
        <div>
            <strong>Ikenna Victor Agu</strong>
        </div>
    </div>
    <div class="testimonial-quote">
        <em>Basically if they were interested in spacecrafts and what happens beyond, it's definitely the place to be.</em>
    </div>
    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
    <p>"It was a nice onboarding session at first, lots of huge expectations coming into something new but not so new. But ultimately you had to be self motivated like I said and really do your own side study to really be able to visualise all the parameters we'd been taught. So in general it was eccentric, slow build up nice finish glad to have participated."</p>
</div>
<div class="testimonial-card">
    <div class="testimonial-author">
        <img src="images/avatar-placeholder.png" alt="OKUSANYA SAMUEL AYODEJI" class="avatar">
        <div>
            <strong>OKUSANYA SAMUEL AYODEJI</strong>
        </div>
    </div>
    <div class="testimonial-quote">
        <em>I‚Äôd tell them Orbieon is the place where your passion for space turns into real skills.</em>
    </div>
    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</div>
    <p>"My experience in the MVP1 program was both exciting and transformative. It deepened my understanding of orbital mechanics and gave me hands-on skills using MATLAB to simulate real-world space maneuvers‚Äîan inspiring step toward my future in aerospace engineering."</p>
</div>
<div class="testimonial-card">
    <div class="testimonial-author">
        <img src="images/avatar-placeholder.png" alt="Jeremiah Iyanuoluwa Yekini" class="avatar">
        <div>
            <strong>Jeremiah Iyanuoluwa Yekini</strong>
        </div>
    </div>
    <div class="testimonial-quote">
        <em>It is a good platform to increase your knowledge on astronautics.</em>
    </div>
    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
    <p>"It was very good."</p>
</div>
<div class="testimonial-card">
    <div class="testimonial-author">
        <img src="images/avatar-placeholder.png" alt="Hyacinth Winifred" class="avatar">
        <div>
            <strong>Hyacinth Winifred</strong>
        </div>
    </div>
    <div class="testimonial-quote">
        <em>It is the best online classes I've had.</em>
    </div>
    <div class="stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</div>
    <p>"It was a nice experience. I got to learn new things although I think we should have live classes asides the video tutorials sent."</p>
</div>
</div>
        </div>
    </section>
    <!-- Waitlist Section -->
  <section class="waitlist-section">
  <div class="container">
    <div class="waitlist-content">
      <h2>Looking for our upcoming courses?</h2>
      <p>Join the waitlist to be notified when dates for future course become available</p>

      <!-- Inline waitlist form -->
      <form id="inlineWaitlistForm" class="waitlist-form" novalidate>
        <input type="email" name="email" placeholder="Fill your email" class="email-input" required autocomplete="email">
        <button type="submit" class="join-btn" id="joinBtn">Join waitlist</button>
      </form>

      <!-- messages -->
      <div id="inlineSuccess" class="message success hidden" role="status">
        üéâ Thanks ‚Äî you're on the waitlist! Check your email for confirmation.
      </div>
      <div id="inlineError" class="message error hidden" role="alert"></div>
    </div>
  </div>
</section>

    <!-- Pricing Section -->
 
 <section id="pricing-section" class="pricing-section">
      <div class="container">
        <h2 class="section-title">Pricing Plans</h2>
        <p class="section-subtitle">
          Choose your Field below, then select a payment option‚Äîone-time or weekly.
        </p>

        <!-- Single form wrapping both course-select and the two plan buttons -->
        <form method="get" action="#" class="payment-form">

          <!-- Course selector -->
          <div class="form-group" style="margin-bottom:1.5rem;">
            <label for="course-select" class="block font-medium mb-2">
              Select Field
            </label>
            <select id="course-select" name="course" required class="form-select">
              <option value="" selected disabled>-- pick a field --</option>
              <option value="mechanical">Mechanical  </option>
              <option value="electrical">Electrical </option>
              <option value="aerospace">Aerospace  </option>
              <option value="mechatronics">Mechatronics & Robotics</option>
            </select>
          </div>

          <!-- Referral Section -->
          <div class="referral-section" style="margin-bottom: 2rem; padding: 1.5rem; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); border-radius: 12px; border: 1px solid #dee2e6;">
            <h3 style="margin-bottom: 1rem; color: #495057; font-size: 1.1rem; font-weight: 600;">
              <i class="fas fa-user-plus" style="margin-right: 0.5rem; color: #6c757d;"></i>
              Who referred you?
            </h3>
            <p style="margin-bottom: 1rem; color: #6c757d; font-size: 0.9rem;">
              Please let us know who referred you to this program, or select "none" if you found us independently.
            </p>
            
            <div class="referral-input-group" style="position: relative;">
              <input 
                type="text" 
                name="referrer" 
                id="referrer-input"
                class="referral-input"
                placeholder="Enter referrer name or type 'none'"
                value=""
                style="width: 100%; padding: 12px 16px; border: 2px solid #dee2e6; border-radius: 8px; font-size: 1rem; transition: border-color 0.3s ease;"
                autocomplete="off"
                list="referrer-suggestions"
              >
              <datalist id="referrer-suggestions">
                <option value="none">No referral</option>
              </datalist>
              
              <!-- Quick "None" button -->
              <button 
                type="button" 
                id="none-btn" 
                class="none-btn"
                style="position: absolute; right: 8px; top: 50%; transform: translateY(-50%); background: #6c757d; color: white; border: none; padding: 6px 12px; border-radius: 6px; font-size: 0.8rem; cursor: pointer; transition: background-color 0.3s ease;"
              >
                None
              </button>
            </div>
            
            
            
            <div class="referral-help" style="margin-top: 0.5rem; font-size: 0.8rem; color: #6c757d;">
              <i class="fas fa-info-circle" style="margin-right: 0.25rem;"></i>
              Type the name of the person who referred you, or click "None" if no referral.
            </div>
          </div>

          <div class="pricing-cards">
            <!-- One-time pay card -->
            <div class="pricing-card featured">
              <h3>One-time pay</h3>
              <p class="pricing-subtitle">(Recommended)</p>
              <div class="price">‚Ç¶9000</div>
              
              <p class="price-period">Full amount (3 weeks)</p>
             <button type="submit" name="plan" value="one_time" class="order-btn"
              onclick="window.location.href='https://paystack.shop/pay/orbieonnmvp2'">
                Pay Now
              </button>
            </div>

            <!-- Weekly pay card -->
            <div class="pricing-card">
              <h3>Weekly pay</h3>
              <p class="pricing-subtitle">(Installment)</p>
              <div class="price">‚Ç¶4000</div>
              <p class="price-period">/ week</p>
                    <button type="button" 
        class="order-btn-outline" 
        onclick="window.location.href='https://paystack.shop/pay/Orbieonsubscription'">
  Pay Weekly
</button>
            </div>
          </div>
        </form>

      </div>
    </section>
    <!-- FAQ Section -->
    <section id="faq-section" class="faq-section">
        <div class="container">
            <h2 class="section-title">Frequently Asked Questions (FAQs) - MVP2 by Orbieon</h2>
            <div class="faq-grid">
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What is MVP2?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>MVP2 (Minimum Viable Phase 2) is a stage in a startup before full launch and for Orbieon, it's a hands-on engineering beta training program designed to help students and recent graduates build real-life projects, gain practical skills, and prepare for career opportunities or startups in the tech and engineering space.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Who can apply for MVP2?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Anyone studying or interested in Mechanical, Electrical, Aerospace, or Mechatronics Engineering (including related fields) can apply. MVP2 is ideal for students, recent graduates, and passionate problem-solvers.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How long is the program?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>The MVP2 program runs for 3 weeks of intensive training followed by a paid internship for top students with zero access fee.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Is MVP2 a free program?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No. There's a one-time access fee or pay in installments, which covers access to training, mentorship, and certification only. This ensures commitment and access to quality resources.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What will I gain from the program?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>‚Ä¢ Build real-world engineering projects<br>
                        ‚Ä¢ Learn problem-solving and teamwork<br>
                        ‚Ä¢ Get mentored by experienced professionals<br>
                        ‚Ä¢ Earn a certificate of participation<br>
                        ‚Ä¢ Become eligible for Orbieon's future opportunities (e.g. internships, startups, advanced programs)</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Will I work on actual engineering projects?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes. MVP2 is built around practical projects. You'll work individually to solve local problems using engineering.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How are classes conducted?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Classes are conducted only online for this stage. The program blends theory, hands-on sessions, mentorship, and teamwork.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Can I join from anywhere in Nigeria or beyond?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes! MVP2 is accessible nationwide and from any country in the world.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Do I need to have experience before joining?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>No prior experience is needed. MVP2 is designed to be beginner-friendly but also challenging enough for intermediate learners.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Will I receive a certificate after the training?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes. You will receive an Orbieon-certified certificate of participation, which can be added to your CV or LinkedIn profile.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>What makes MVP2 different from other trainings?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>MVP2 isn't just a training‚Äîit's Orbieon's solution to unemployment and under-skill. We focus on building future engineers with innovation, excellence, and impact. It's not theory. It's transformation.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>How do I register for MVP2?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Click the "Enroll Now" button on this page or follow the link in our bio (if on social media). Fill the form, make your payment, and get added to our onboarding group.</p>
                    </div>
                </div>
                <div class="faq-item">
                    <div class="faq-question">
                        <span>Is there a deadline to apply?</span>
                        <span class="faq-toggle">+</span>
                    </div>
                    <div class="faq-answer">
                        <p>Yes. Applications close as soon as we reach the required number of participants, so register early to secure your spot.</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer class="footer"> 
        <div class="container">
            <div class="footer-content">
                <p>Orbieon ¬©2025 - All rights reserved</p>
                <div class="social-icons"> 
                    <a href="https://www.instagram.com/orbieon?igsh=YzljYTk1ODg3Zg==" target="_blank" class="social-icon instagram" title="Instagram"></a>
                    <a href="https://linkedin.com/company/neuforge" target="_blank" class="social-icon twitter" title="X (Twitter)"></a>
                    <a href="https://x.com/orbieon?s=08" target="_blank" class="social-icon linkedin" title="LinkedIn"></a>
                </div>
            </div>
        </div>
    </footer>
   <script>
    /* ---------- CONFIG: set to your Apps Script Web App URL ---------- */
    const WEB_APP_URL = 'https://script.google.com/macros/s/AKfycbyEWzY7Qgs7wq9pD6OzkZj4oS71LWdAxDcUgQQyAR_QxvFCQCz8_d3wtN_8dX4UtmjU/exec';
    /* --------------------------------------------------------------- */

    document.addEventListener('DOMContentLoaded', () => {
      const q = sel => document.querySelector(sel);
      const qa = sel => Array.from(document.querySelectorAll(sel));
      const isValidEmail = email => /^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(email);

      // FAQ - event delegation
      const faqContainer = q('.faq-list') || document.body;
      faqContainer.addEventListener('click', (e) => {
        const qEl = e.target.closest('.faq-question');
        if (!qEl) return;
        const item = qEl.closest('.faq-item');
        faqContainer.querySelectorAll('.faq-item.active').forEach(i => {
          if (i !== item) i.classList.remove('active');
        });
        item.classList.toggle('active');
      });

      // Smooth scroll for anchor links
      qa('.nav-links a').forEach(link => {
        link.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          if (href && href.startsWith('#')) {
            e.preventDefault();
            const target = document.querySelector(href);
            if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          }
        });
      });

      // Intersection animations
      (function initAnimatedElements() {
        const animatedElements = qa('.benefit-card, .testimonial-card, .pricing-card');
        if (!animatedElements.length) return;
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.style.opacity = '1';
              entry.target.style.transform = 'translateY(0)';
            }
          });
        }, { threshold: 0.1, rootMargin: '0px 0px -50px 0px' });

        animatedElements.forEach(el => {
          el.style.opacity = '0';
          el.style.transform = 'translateY(20px)';
          el.style.transition = 'opacity 0.6s ease, transform 0.6s ease';
          observer.observe(el);
        });
      })();

      // Header scrolled state via IntersectionObserver (avoid scroll reflow)
      (function initHeaderObserver() {
        const header = q('.header');
        const aiSection = q('.ai-section');
        if (!header || !aiSection) return;
        const observer = new IntersectionObserver(entries => {
          entries.forEach(entry => {
            if (entry.isIntersecting) header.classList.remove('scrolled');
            else header.classList.add('scrolled');
          });
        }, { root: null, threshold: 0, rootMargin: `-${header.offsetHeight}px 0px 0px 0px` });
        observer.observe(aiSection);
      })();

      // button hover transform
      qa('button').forEach(btn => {
        btn.addEventListener('mouseenter', () => btn.style.transform = 'translateY(-2px)');
        btn.addEventListener('mouseleave', () => btn.style.transform = '');
      });

     // Inline waitlist form (URL-encoded POST to avoid preflight)
(function initInlineWaitlist() {
  const form = q('#inlineWaitlistForm');
  if (!form) return;
  const btn = q('#joinBtn');
  const successMsg = q('#inlineSuccess');
  const errorMsg = q('#inlineError');
  const emailInput = form.querySelector('input[name="email"]');

  form.addEventListener('submit', async (e) => {
    e.preventDefault();
    successMsg && successMsg.classList.add('hidden');
    errorMsg && errorMsg.classList.add('hidden');

    const email = emailInput ? emailInput.value.trim() : '';
    if (!isValidEmail(email)) {
      if (emailInput) {
        emailInput.style.borderColor = '#EF4444';
        emailInput.placeholder = 'Please enter a valid email';
        setTimeout(() => { emailInput.style.borderColor = ''; emailInput.placeholder = 'Fill your email'; }, 3000);
      }
      return;
    }

    const params = new URLSearchParams({
      type: 'waitlist',
      email,
      page: 'pay',
      timestamp: new Date().toISOString()
    });

    btn && (btn.disabled = true);
    btn && (btn.textContent = 'Joining...');

    try {
      // NOTE: do not explicitly set Content-Type header here ‚Äî let the browser set it for URLSearchParams
      const res = await fetch(WEB_APP_URL, {
        method: 'POST',
        body: params.toString(),
        redirect: 'follow'
      });

      // read raw response text and try to parse JSON
      const text = await res.text();
      let data = null;
      try { data = JSON.parse(text); } catch (_) { data = null; }

      console.log('Waitlist response:', res.status, text, data);

      if (res.status >= 200 && res.status < 300) {
        // treat as success even if server returned non-JSON body
        form.reset();
        successMsg && successMsg.classList.remove('hidden');
        setTimeout(() => successMsg && successMsg.classList.add('hidden'), 3000);
        btn && (btn.textContent = 'Joined!');
      } else {
        const msg = (data && data.error) ? data.error : (text || 'Server rejected waitlist');
        errorMsg && (errorMsg.textContent = '‚ùå ' + msg);
        errorMsg && errorMsg.classList.remove('hidden');
        throw new Error(msg);
      }
    } catch (err) {
      console.error('Waitlist submit error', err);
      errorMsg && (errorMsg.textContent = '‚ùå Could not join waitlist. Please try again later.');
      errorMsg && errorMsg.classList.remove('hidden');
      setTimeout(() => errorMsg && errorMsg.classList.add('hidden'), 4000);
    } finally {
      btn && (btn.disabled = false);
      btn && (btn.textContent = 'Join waitlist');
    }
  });
})();
// Payment form handler - posts to server then redirects to payment URL (from button's data-pay-url)
(function initPaymentForm() {
  const form = q('.payment-form');
  if (!form) return;
  form.addEventListener('submit', async function(e) {
    e.preventDefault();
    const submitter = e.submitter;
    const plan = submitter && submitter.value ? submitter.value : 'one_time';
    const payUrl = submitter && submitter.dataset && submitter.dataset.payUrl ? submitter.dataset.payUrl : null;
    const courseEl = q('#course-select');
    const referrerEl = q('#referrer-input');
    const course = courseEl ? courseEl.value : '';
    const referrer = referrerEl ? referrerEl.value.trim() || 'none' : 'none';

    if (!course) {
      alert('‚ö†Ô∏è Please select a field first.');
      return;
    }

    const params = new URLSearchParams({ course, referrer, plan });

    try {
      if (submitter) { submitter.disabled = true; submitter.textContent = 'Processing...'; }

      // NOTE: let the browser set the Content-Type for URLSearchParams (do NOT set custom headers)
      const res = await fetch(WEB_APP_URL, {
        method: 'POST',
        body: params.toString(),
        redirect: 'follow'
      });

      const text = await res.text();
      let data = null;
      try { data = JSON.parse(text); } catch(_) { data = null; }

      console.log('Payment response:', res.status, text, data);

      if (res.status >= 200 && res.status < 300) {
        // show referral feedback if returned
        if (data && typeof data.referralCount !== 'undefined') {
          const statusBox = document.getElementById('referralStatus');
          if (statusBox) {
            statusBox.style.display = 'block';
            const count = Number(data.referralCount || 0);
            const eligible = !!data.eligible;
            if (eligible) {
              statusBox.style.color = '#064E3B';
              statusBox.innerHTML = `üéâ ${referrer} has ${count} paid referrals ‚Äî eligible for internship!`;
            } else {
              const remaining = Math.max(0, 5 - count);
              statusBox.style.color = '#065f46';
              statusBox.innerHTML = `${referrer} has ${count} paid referral(s). ${remaining} more to secure internship.`;
            }
          }
        }

        // success: redirect to payment gateway if URL provided
        if (payUrl) {
          // small delay to let the server commit row before redirecting
          setTimeout(() => { window.location.href = payUrl; }, 300);
        } else {
          alert('‚úÖ Payment info saved. Proceed to checkout/payment gateway.');
          form.reset();
        }
      } else {
        const msg = (data && data.error) ? data.error : (text || 'Server rejected payment');
        alert('‚ùå ' + msg);
      }
    } catch (err) {
      console.error('Payment submit error', err);
      alert('‚ùå Network error. Please try again.');
    } finally {
      if (submitter) {
        submitter.disabled = false;
        // restore original text if present
        submitter.textContent = submitter.getAttribute('data-original-text') || (submitter.value || 'Pay');
      }
    }
  });
})();

      // Referrer autocomplete (debounced placeholder - no external endpoint provided)
      (function initReferrerAutocomplete() {
        const referrerInput = q('#referrer-input');
        const datalist = q('#referrer-suggestions');
        const noneBtn = q('#none-btn');
        if (!referrerInput || !datalist) return;
        noneBtn && noneBtn.addEventListener('click', () => referrerInput.value = 'none');

        let timeout;
        referrerInput.addEventListener('input', () => {
          clearTimeout(timeout);
          const query = referrerInput.value.trim();
          if (query.length < 2 || query.toLowerCase() === 'none') return;
          timeout = setTimeout(async () => {
            try {
              // placeholder endpoint; replace '#' with a real search URL when available
              const resp = await fetch('#');
              const payload = await resp.json();
              datalist.querySelectorAll('option:not([value="none"])').forEach(opt => opt.remove());
              (payload.suggestions || []).forEach(s => {
                const opt = document.createElement('option');
                opt.value = s.name;
                datalist.appendChild(opt);
              });
            } catch (err) {
              // ignore optional UX errors
              console.warn('Referrer search failed', err);
            }
          }, 300);
        });
      })();

      // Mobile nav
      (function initMobileNav() {
        const hamburger = q('#hamburger-btn');
        const mobileNav = q('#mobile-nav');
        if (!hamburger || !mobileNav) return;
        let navOpen = false;
        hamburger.addEventListener('click', () => {
          navOpen = !navOpen;
          mobileNav.classList.toggle('open', navOpen);
          hamburger.setAttribute('aria-expanded', navOpen ? 'true' : 'false');
          mobileNav.setAttribute('aria-hidden', navOpen ? 'false' : 'true');
          hamburger.classList.toggle('active', navOpen);
        });
        mobileNav.querySelectorAll('a,button').forEach(link => {
          link.addEventListener('click', () => {
            navOpen = false;
            mobileNav.classList.remove('open');
            hamburger.setAttribute('aria-expanded', 'false');
            mobileNav.setAttribute('aria-hidden', 'true');
            hamburger.classList.remove('active');
          });
        });
      })();

      // Console hint if hero image missing (helps debug 404)
      (function checkHeroImage() {
        const img = q('img[data-check="your-ai-image"]');
        if (!img) return;
        img.addEventListener('error', () => console.warn('Image not found ‚Äî ensure correct path/case for images/your-ai-image.jpg'));
      })();

    }); // DOMContentLoaded
    </script>
</body>
</html>
